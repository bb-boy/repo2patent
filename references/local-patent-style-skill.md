# 本地专利语料 Skill（全目录版）

## 1. 语料范围
- `CN111177271A`：Kafka 持久化到 HDFS（方法/装置/设备/介质）
- `CN116466872A`：时序数据分级存储（系统/方法）
- `CN109522361A`：消息总线数据库实时同步（方法/系统）
- `CN111930529A`：消息队列+微服务数据同步（方法/模块/系统）
- `CN118779351A`：MySQL 到 Kafka 一致性验证（方法/装置/设备/介质）
- `CN102306197A/B`（申请号 `201110283994`）：跨数据源事务一致性（方法/装置）

说明：本 Skill 约束“写作结构与技术表达风格”，不替代法律判断与检索结论；若与官方规范冲突，必须以官方规范为准。

## 0. 使用方式（强制）
- 官方规范优先：先按 `official_rules_catalog.json`、`patent-writing-rules.md`、`cnipa-patent-writing-2017-notes.md` 核对，再使用本风格规则。
- 先从当前任务仓库抽取事实，再匹配本语料中的技术母型。
- 先生成“风格画像与术语表”，再写摘要/权利要求/说明书。
- 写作阶段禁止使用固定句库硬拼段落；允许保留法律常用连接词（如“其特征在于”“进一步地”）。
- 每个结论都应能回指源码或语料证据，不得无依据扩写。

## 2. 技术母型抽象

### 2.1 管道同步型
- 来源：`CN109522361A`、`CN111930529A`、`CN111177271A`
- 骨架：源端监听/采集 -> 消息封装与发送 -> 消费解析 -> 目标落库/落盘 -> 异常补偿或监控

### 2.2 分层存储型
- 来源：`CN116466872A`、`CN111177271A`
- 骨架：数据分级规则 -> 多存储介质分流写入 -> 查询回读路径 -> 成本/性能平衡

### 2.3 一致性验证型
- 来源：`CN118779351A`、`CN102306197A/B`
- 骨架：验证策略配置 -> 动态/静态比对或事务协同 -> 异常通知/回滚 -> 一致性保证

## 3. 摘要写法（默认模式）

### 3.1 推荐结构
1. `本发明提供了一种……`
2. `该方法/系统应用于……场景`
3. `包括：步骤A；步骤B；步骤C`
4. `通过本发明，可……同时……`

### 3.2 风格约束
- 单段、紧凑、技术动作明确。
- 可写 3-4 个关键步骤，不展开实现细枝末节。
- 效果句仅写可验证效果：效率、资源、稳定性、准确性、一致性。
- 禁止写“代码解析/脚本生成/AI生成”等工具行为。

## 4. 权利要求书写法（默认模式）

### 4.1 客体组合规则
- 业务流程主导时：方法独立权利要求优先。
- 架构模块主导时：系统/装置独立权利要求优先。
- 软件实现场景：可补设备与存储介质权项（与方法步骤保持一致回引）。

### 4.2 层级规则
1. `权1`：完整必要技术特征（主链路闭环）
2. `权2-N`：参数、单元、异常处理、补偿、调度、压缩等递进限定
3. 并列客体：系统/装置、设备、介质

### 4.3 语言规则
- 独立项：`一种……，其特征在于，包括：……`
- 从属项：`根据权利要求X所述……，其特征在于，……`
- 从属项只缩小范围，不扩大范围。
- 术语一词到底，不混用同义词。

## 5. 说明书写法（默认模式）

### 5.1 固定章节
1. 技术领域
2. 背景技术
3. 发明内容
4. 附图说明
5. 具体实施方式

### 5.2 发明内容推进
1. 目的句：解决背景中的具体技术问题
2. 第一方面：方法或系统主方案
3. `进一步地`：可选特征逐条补充
4. 第二/第三方面：装置/设备/介质
5. 有益效果：逐条回扣背景问题

### 5.3 具体实施方式推进
- 先免责声明（解释而非限定）。
- 再按“实施例一/二/三”展开。
- 实施例必须与权利要求核心特征对应，不得冲突。

## 6. 源码到专利特征映射（repo2patent）
- `controller` / endpoint：接口服务步骤或查询模块。
- `service` / pipeline：主流程技术特征。
- `@KafkaListener` / topic：消息路由与消费特征。
- 双存储（关系型+时序）：分层持久化特征。
- fallback / source switch：容错切换与回退特征。
- 定时任务 / WebSocket：调度与实时反馈可选特征。
- 压缩/解压：存储优化与查询恢复特征。

## 7. 选型规则（写作风格选择）
- 若仓库是消息同步链路：采用“管道同步型”主线（优先 `CN109522361A` + `CN111930529A`）。
- 若仓库强调冷热分层或多介质：引入“分层存储型”表达（参考 `CN116466872A`）。
- 若仓库强调校验、对账、一致性：引入“一致性验证型”表达（参考 `CN118779351A` 与 `CN102306197A/B`）。

## 8. 成稿自检清单
- 摘要：对象 + 场景 + 步骤 + 效果是否齐全。
- 权利要求：独立项是否完整、从属项是否递进、术语是否统一。
- 说明书：章节顺序是否完整，发明内容是否有“目的+方面+进一步地+效果”。
- 一致性：摘要、权利要求、说明书是否描述同一技术方案。
